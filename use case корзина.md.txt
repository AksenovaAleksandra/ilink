@startuml
title Use case корзина
left to right direction
Пользователь--> (Отрегулировать товары) 
(Отрегулировать товары)<..(Изменить количество товаров):extend
(Отрегулировать товары)<..(Удалить товар):extend
(Отрегулировать товары)..>(Сохранить данные):include
actor "База данных" as Data 
:Data:-up-->(Сохранить данные)
Пользователь--> (Изменить данные) 
(Изменить данные)<..(Изменить адрес):extend
(Изменить данные)<..(Изменить способ оплаты):extend
(Изменить данные)..>(Сохранить данные):include
Пользователь--> (Ввести промокод) 
(Ввести промокод)..>(Применить промокод):include
note "Происходит расчет скидки" as N
:N:-up->(Применить промокод)
(Применить промокод)..>(Сохранить данные):include
Пользователь--> (Оформить заказ) 
(Оформить заказ)..>(Произвести оплату):include
(Произвести оплату)..>(Ввести данные карты):include
actor "Платежная система" as Pay 
:Pay:-up-->(Произвести оплату)
Пользователь--> (Узнать информацию о заказе) 
note "Инф о заказе формируется относительно выбранного адреса в разделе личных данных" as N2
:N2:-up->(Узнать информацию о заказе)
@enduml