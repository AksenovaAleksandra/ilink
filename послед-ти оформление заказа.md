@startuml
title Диаграмма последовательности_Оформление заказа
actor Пользователь
Activate Пользователь
Activate Frontend

Пользователь -> Frontend : Выбирает оформление заказа

Activate Backend
Frontend -> Backend: Отправляет запрос на начало оплаты заказа
Backend-> Frontend : Ответ на запрос
Frontend -> Пользователь : Запрашивает данные карты
Пользователь -> Frontend : Вводит данные карты
Frontend -> Backend: Передача данных карты
Activate Платежная_система
Backend-> Платежная_система : Запрос на установку соединения с платежной системой
Платежная_система -> Платежная_система : Обработка запроса
Backend <-- Платежная_система: Установка соединения
Backend -> Платежная_система : Передача данных карты
Платежная_система -> Платежная_система: Проверка полученных данных
Backend <-- Платежная_система : Результат проверки
Frontend <-- Backend : Результат получения данных карты
Frontend -> Пользователь : Запрашивает подверждение снятия средств
Пользователь -> Frontend : Подтверждает снятие средств
Frontend -> Backend: Запрос на снятие средств
Backend-> Платежная_система : Передача запроса на снятие средств
Платежная_система-> Платежная_система : Проверка возможности снятия средств (снятие средств)
Backend <-- Платежная_система: Ответ на запрос на снятие средств
Frontend <-- Backend : Ответ на запрос на снятие средств
Deactivate Платежная_система
Frontend -> Backend : Запрос на получение информации о заказе
Backend-> Backend: Формирует информацию о заказе
Backend->Frontend : Передает данные о заказе
Deactivate Backend
Frontend -> Пользователь : Отображает информацию о заказе пользователю
Deactivate Frontend
@enduml